# 阿里巴巴-前端开发工程师面经

## 一面（技术面）

### 1. React的虚拟DOM和diff算法

虚拟DOM是React中的一个抽象层，它是一个轻量级的JavaScript对象，用于描述真实DOM的结构。React通过比较虚拟DOM的差异（diff算法）来最小化对真实DOM的操作，从而提高性能。

diff算法的核心思想：
- 只比较同一层级的节点
- 对于不同类型的节点，直接替换
- 对于相同类型的节点，比较属性并更新
- 对于列表节点，使用key来标识相同的元素，避免不必要的重新渲染

### 2. React性能优化

- 使用React.memo或useMemo避免不必要的重新渲染
- 使用useCallback缓存函数引用
- 懒加载组件（React.lazy和Suspense）
- 虚拟列表（对于长列表）
- 减少不必要的DOM操作
- 优化状态管理

### 3. 防抖函数实现

```javascript
function debounce(func, delay) {
  let timer = null;
  return function(...args) {
    if (timer) clearTimeout(timer);
    timer = setTimeout(() => {
      func.apply(this, args);
    }, delay);
  };
}
```

### 4. 浏览器的事件循环机制

浏览器的事件循环负责处理异步操作，包括宏任务和微任务：
- 宏任务：script、setTimeout、setInterval、I/O、UI渲染等
- 微任务：Promise.then/catch/finally、MutationObserver、queueMicrotask等

执行顺序：
1. 执行同步代码
2. 执行所有微任务
3. 执行一个宏任务
4. 重复2-3步骤

## 二面（技术面）

### 1. 大型电商网站前端架构设计

- 模块拆分：按照业务功能拆分为多个模块
- 组件化：将UI拆分为可复用的组件
- 状态管理：使用Redux或Context API管理全局状态
- 路由：使用React Router进行页面导航
- 构建工具：使用Webpack或Vite进行打包
- 性能优化：懒加载、代码分割、图片优化等
- 跨端兼容：使用响应式设计或适配方案

### 2. 前端微服务化

前端微服务化是将大型前端应用拆分为多个独立的小型应用，每个应用负责一部分功能，它们可以独立开发、测试和部署。

实现方式：
- iframe
- Web Components
- 微前端框架（如Single-SPA、qiankun）

### 3. HTTP/2和HTTP/3的区别

HTTP/2：
- 多路复用：多个请求共享一个TCP连接
- 头部压缩：减少头部传输大小
- 服务器推送：主动推送资源
- 二进制传输：更高效的传输格式

HTTP/3：
- 基于QUIC协议（UDP的改进版）
- 更快的连接建立
- 更好的拥塞控制
- 连接迁移：支持网络切换时保持连接

### 4. LRU缓存实现

```javascript
class LRUCache {
  constructor(capacity) {
    this.cache = new Map();
    this.capacity = capacity;
  }

  get(key) {
    if (!this.cache.has(key)) return -1;
    const value = this.cache.get(key);
    this.cache.delete(key);
    this.cache.set(key, value);
    return value;
  }

  put(key, value) {
    if (this.cache.has(key)) {
      this.cache.delete(key);
    } else if (this.cache.size >= this.capacity) {
      const oldestKey = this.cache.keys().next().value;
      this.cache.delete(oldestKey);
    }
    this.cache.set(key, value);
  }
}
```